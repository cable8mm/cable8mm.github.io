---
layout: single
title:  "구글 비디오, 최상의 인코딩 구현하기"
date:   2006-01-21 16:21:16 +09:00
categories: service
tags: google video
author: Samgu Lee
---
구글비디오에서 시범적으로 그리고 개인적으로 몇개의 동영상을 올려놓고 서비스를 하고 있는데, 생각보다 많은 분들이 봐주고 계십니다. 여섯개의 동영상을 어떤 분이 올려 놓았는데, 하루 500분 이상이 시청하고 다운로드도 10분정도가 하시는 군요.

이번 글에서는 조금 더 나은 화질로 만들기 위한 방법을 제시하려 합니다. 한국어로는 서비스가 되지 않아서 답답하긴 합니다만, [구글비디오에 자신의 비디오를 올리고 그것을 블로그에 담는 것][video-in-my-blog]이 매우 쉽기 때문에 많은 분들이 무료로 이용해 보는 것도 좋을 것 같네요.

구글비디오는 영어로 서비스가 되기 때문에 검색 자체는 그다지 효용이 크진 않습니다. 그리고, 관리자모드에서도 구글이 대체로 유니코드를 지원해서 타국가에서 서비스하는데 불편함이 없지만, 구글비디오는 영어만 입력을 지원하고 다른 언어는 입력 자체가 되지 않습니다. 따라서, 구글비디오로 한국에서 할 수 있는 일은 다음과 같습니다.

- 자신의 블로그에서 동영상 보여주기
- PSP용 파일로 변환하여 PSP에서 보고다니기
- 역시 아이포드용으로 변환하여 보고다니기

아이포드는 제가 가지고 있지 않기 때문에 테스트를 해 볼 순 없었지만, 블로그와 PSP로는 원활하게 돌아갑니다.

그러면 본격적으로 인코딩에 대해서 알아보도록 하죠.

인코딩은 정치적인 문제로 인해 매우 복잡하고, 여러가지 코덱이 존재합니다. 여러분들이 많이 들어봤을 것으로 생각되는 MPEG2, MPEG4 같은 것들은 어떤 특정코덱을 지칭하는 것이 아니라 코덱의 표준덩어리를 말하는 것으로 그 안에는 수많은 코덱들이 존재합니다.

MPEG2는 보통 DVD에서 사용되고, MPEG4는 컴퓨터 또는 디지털TV나 DMB같은 서비스에 사용됩니다. 이 둘은 화질차이는 많지 않지만, MPEG4는 스트리밍서비스를 지원한다는 점에서 다릅니다. 용량도 MPEG4가 일반적으로 약간 적다고 알려져 있습니다만, 인코딩 옵션에 따른 용량차이를 감안한다면 중요하지는 않습니다.

구글비디오는 [두개의 주된 코덱][all-about-google-video]을 사용하고 있는데, 한가지는 스트리밍시 매크로플래쉬에서 사용되는 온투 테크놀로지의 VP6를 사용하고, 다운로드시에는 DivX4와 PSP에서 사용되는 MPEG4 AVC가 사용됩니다. 플래쉬 플래이어의 경우 해상도와 관계없이 창 크기를 변화시킬 수 있고, 여러가지 기능이 있기 때문에 다운로드에 맞춰서 인코딩을 하면 됩니다.

## 인코딩은 인코딩 옵션이 중요하다

한국 방송에선 NTSC방식으로 전파를 송신하기 때문에 각종 비디오 캠코더도 NTSC방식이 사용됩니다. 최근 디지털방송의 출연으로 HD방식의 캠코더도 나옵니다. HD방식은 컴퓨터용으로 변환할 때 해상도만 변경하면 되기 때문에 특별히 알아야 할 지식은 없습니다.(HD방식은 컴퓨터에 쓰는 것과 같고, MPEG4로 저장이 됩니다.)

NTSC는 비월주사방식으로 초당 약 30프레임입니다. 또한, 방송 규격상 4:3비율을 사용합니다. 보통 촬영장비는 NTSC DV포멧을 사용하는데, 쉽게 가로 720, 세로 480의 해상도를 갖으며, 픽셀의 생김새는 컴퓨터가 정사각형 모양인데 반해 NTSC DV는 0.9 비율로 가로가 세로보다 작습니다. 이런 이유로 비디오카메라로 촬영한 영상을 컴퓨터 영상으로 바꿀 때에는 정밀한 인코딩 기술이 필요하게 됩니다.

일반적인 사용자들은 이런 기술을 알아서 잡아주는 프로그램이면 되는데, 이미 무료로 제공되는 인코더들이 존재합니다. 버추어덥, MS 미디어 인코더, 맨인코더 등이 있고, 편집 툴인 어도브 프리미어, 파이널 컷 프로 등에도 인코더가 들어 있습니다.

위의 인코더들을 이용해서 다음의 옵션을 적용해서 인코딩을 해 보세요.(다음의 옵션은 비디오와 오디오를 합친 값입니다.)

| 옵션      | 세팅 |
| ----------- | ----------- |
| 코덱      | 영상 DivX4, 음성 MP3       |
| 프레임레이트   | 변경하지 않음        |
| 영상 비트레이트   | 650Kbps        |
| 샘플링레이트   | 변경하지 않음        |
| 오디오 비트레이트   | 128Kbps        |
| 오디오 채널   | 2        |

되도록 프레임레이트는 건들이지 않던지, 편집툴이 대단히 좋은, 예를 들어 어도브 이펙터와 같은 프로그램이면 30프로임으로 조정하는 것이 좋습니다.

## 이도 저도 싫다, 간단히만 되다오

동영상을 만드는 가장 간단한 방법은 다음과 같습니다.

1. NTSC DV카메라(일반적인 카메라를 말합니다.)로 촬영한다.
2. IEEE1394 커넥터를 이용해 컴퓨터에 연결한다.
3. 윈도우 XP에 들어있는 무비메이커를 실행해서 캡쳐를 받는다.
4. 로컬디스크용으로 저장한다.(초당 1메가 이상)
5. 구글비디오 업로더를 이용해 서버에 저장한다.

구글비디오의 뉴스그룹에선 [네로 레코드(Nero Recode)](http://download.zdnet.co.kr/pds/detail_view.html?id=23788)를 추천하고 있으니 참고하세요.

[video-in-my-blog]: {% post_url 2006-01-16-video-in-my-blog %}
[all-about-google-video]: {% post_url 2006-01-12-all-about-google-video %}
